(this["webpackJsonpnotepad-react"]=this["webpackJsonpnotepad-react"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},52:function(e,t,n){},70:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(20),s=n.n(c),i=(n(46),n(47),n(18)),o=n(4),u="CHANGE_REFRESH_STATUS",l="FETCHING_DATA",d="STORE_TRIVIAL_DATA",b=function(e){return{type:u,payload:e}},j=function(e){return{type:l,payload:e}},f=function(e){return{type:d,payload:e}},h={refresh:{on:"Login",signed:!0},fetching:!1,trivialData:null};var p=n(40),O=n(7),x=n.n(O),m=n(41),v=x.a.mark(g);function g(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)("CLOSE_MODAL",w);case 2:case"end":return e.stop()}}),v)}function w(){}var N=Object(i.b)({globalState:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case u:e=Object(o.a)(Object(o.a)({},t),{},{refresh:Object(o.a)({},n.payload)});break;case l:e=Object(o.a)(Object(o.a)({},t),{},{fetching:n.payload});break;case d:e=Object(o.a)(Object(o.a)({},t),{},{trivialData:n.payload});break;default:e=Object(o.a)({},t)}return e}}),y=Object(p.a)(),k=Object(i.d)((function(e,t){return N(e,t)}),Object(i.a)(y));y.run(g);var S=k,C=n(15),P=n(27),D=n(8),_=n(10),A=n(17),E=n(23),T=(n(52),n(37)),F=n(38),I=n(24),R=n.n(I),L="http://localhost:8000/api/",U="access";var q=new function(){return{extractValidationError:function(e){var t=[];if(!e)return[];for(var n in e)t.push(e[n][0]);return t},getToken:function(){return localStorage.getItem("access")},setToken:function(e){return localStorage.setItem("access",e)}}};R.a.interceptors.request.use((function(e){if(e.url.includes(L)&&!e.headers.Authorization){var t=q.getToken();t&&"undefined"!==t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),(function(e){return Promise.reject(e)}));var z={_handleError:function(e){return 401===e.response.status&&window.origin+"/login"!==window.document.documentURI?window.location="/login":Promise.reject(e.response)},get:function(e){return R.a.get(e).then((function(e){return e.data})).catch(this._handleError)},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R.a.post(e,t).then((function(e){return e.data})).catch(this._handleError)}},B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z;Object(T.a)(this,e),this.adapter=t,this.url=L}return Object(F.a)(e,[{key:"get",value:function(e){return this.adapter.get(this.url+e).catch((function(e){return Promise.reject(e)}))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.adapter.post(this.url+e,t).catch((function(e){return Promise.reject(e)}))}}]),e}();function H(){var e=new B,t=function(){var t=Object(_.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post("token/",n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=Object(_.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post("register/",n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=Object(_.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post("add_note/",n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(_.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post("update_note/".concat(n.note.id),{content:n.content}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(_.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get("delete_note/".concat(n.id)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{notes:function(){var t=Object(_.a)(x.a.mark((function t(){var n,a,r=arguments;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]?r[1]:"",t.abrupt("return",e.get("notes/?page=".concat(n,"&search=").concat(a)));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),updateNote:r,deleteNote:c,addNote:a,login:t,register:n,logout:function(){var t=Object(_.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get("logout/"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}var G=function(e){return{refresh:e.globalState.refresh,fetching:e.globalState.fetching,trivialData:e.globalState.trivialData}},J=function(e){return{changeRefreshStatus:function(t){return e(b(t))},fetchingData:function(t){return e(j(t))},storeTrivialData:function(t){return e(f(t))}}},M=(n(70),n(2));var V=Object(C.b)((function(e){return Object(o.a)({},G(e))}),(function(e){return{}}))((function(e){var t=e.fetching;return Object(M.jsx)(a.Fragment,{children:t&&Object(M.jsx)("div",{className:"full",children:Object(M.jsx)("div",{className:"d-flex justify-content-center align-items-center loader-box",children:Object(M.jsx)("i",{className:"fa fa-gear text-white"})})})})}));var K=Object(C.b)((function(e){return Object(o.a)({},G(e))}),(function(e){return Object(o.a)({},J(e))}))((function(e){var t=e.fetchingData,n=e.changeRefreshStatus,r=e.refresh;Object(a.useEffect)((function(){n({on:"Login",signed:!0})}),[n]);var c=new H,s=Object(a.useState)({certificate:{username:"",password:"",path:null},success:!1,error:!1}),i=Object(E.a)(s,2),u=i[0],l=i[1],d=function(e){l(Object(o.a)(Object(o.a)({},u),{},{certificate:Object(o.a)(Object(o.a)({},u.certificate),{},Object(A.a)({},e.target.name,e.target.value)),error:!1,success:!1}))},b=function(){var e=Object(_.a)(x.a.mark((function e(a){var r,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,t(!0),r=u.certificate.path,e.next=6,c[r](u.certificate);case 6:s=e.sent,t(!1),n({on:"Dashboard",signed:!0}),i=s.access,localStorage.setItem(U,i),l(Object(o.a)(Object(o.a)({},u),{},{error:!1,success:!0})),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),t(!1),l(Object(o.a)(Object(o.a)({},u),{},{error:!0,success:!1}));case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){return Object(M.jsxs)("div",{className:"d-flex justify-content-center align-items-center auth-box",children:[Object(M.jsx)(V,{}),Object(M.jsxs)("div",{style:{boxShadow:"0 0 5px #0005"},className:"bg-white rounded p-1 d-cont",children:[Object(M.jsx)("h5",{className:"text-center text-primary mt-2",children:"Adoyen Notepad"}),Object(M.jsx)("hr",{}),Object(M.jsx)("form",{onSubmit:function(e){return b(e)},className:"bg-white p-4",children:Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"username",children:"Username"}),Object(M.jsx)("input",{type:"text",name:"username",value:u.certificate.username,className:"form-control",id:"email","aria-describedby":"email",onChange:function(e){return d(e)},required:!0})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsx)("label",{htmlFor:"password",children:"Password"}),Object(M.jsx)("input",{type:"password",name:"password",value:u.certificate.password,className:"form-control",id:"password","aria-describedby":"password",onChange:function(e){return d(e)},required:!0})]}),Object(M.jsxs)("div",{className:"mb-3",children:[u.error&&Object(M.jsx)("span",{className:u.error?"text-danger":"text-white",children:"Unauthorized access"}),u.success&&Object(M.jsx)("span",{className:u.success?"text-primary":"text-white",children:"Action succeeded"})]}),Object(M.jsxs)("div",{className:"rounded overflow-hiddenv d-flex",children:[Object(M.jsx)("div",{style:{flex:1},className:"",children:Object(M.jsx)("button",{onClick:function(){return l(Object(o.a)(Object(o.a)({},u),{},{certificate:Object(o.a)(Object(o.a)({},u.certificate),{},{path:"register"})}))},className:"w-100 btn rounded-0 btn-primary",children:"Register"})}),Object(M.jsx)("div",{style:{flex:1},className:"bg-dark d-flex align-items-center",children:Object(M.jsx)("div",{className:"text-center w-100",children:Object(M.jsx)("button",{onClick:function(){return l(Object(o.a)(Object(o.a)({},u),{},{certificate:Object(o.a)(Object(o.a)({},u.certificate),{},{path:"login"})}))},type:"submit",className:"w-100 btn text-white mx-auto",children:"Login"})})})]})]})})]})]})};return r.signed&&"Dashboard"===r.on&&"login"===u.certificate.path?Object(M.jsx)(D.a,{to:"/dashboard"}):j()}));n(74);var Q=Object(C.b)((function(e){return Object(o.a)({},G(e))}),(function(e){return Object(o.a)({},J(e))}))((function(e){var t=e.fetchingData,n=e.changeRefreshStatus,r=new H,c=Object(a.useState)({content:"",searchContent:"",currentPage:1,lastPage:1,note:null,data:{},success:!1}),s=Object(E.a)(c,2),i=s[0],u=s[1],l=function(){var e=Object(_.a)(x.a.mark((function e(){var t,n,a,c=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:"",e.next=4,r.notes(t,n);case 4:(a=e.sent)&&u(Object(o.a)(Object(o.a)({},i),{},{success:!0,content:"",note:null,data:a,lastPage:a.last_page_number,currentPage:a.current_page_number}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=i.currentPage;i.lastPage;if(e>1){var t=+e-1;u(Object(o.a)(Object(o.a)({},i),{},{currentPage:t})),l(t,i.searchContent).then()}},b=function(){var e=i.currentPage;if(e<i.lastPage){var t=+e+1;u(Object(o.a)(Object(o.a)({},i),{},{currentPage:t})),l(t,i.searchContent).then()}};Object(a.useEffect)((function(){n({on:"Dashboard",signed:!0}),l().then()}),[n]);var j=function(){var e=Object(_.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,t(!0),e.next=5,r[i.note?"updateNote":"addNote"]({content:i.content,note:i.note});case 5:t(!1),n({on:"NoteAdded",signed:!0}),l().then(),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),t(!1),u(Object(o.a)(Object(o.a)({},i),{},{success:!1}));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u(Object(o.a)(Object(o.a)({},i),{},{currentPage:1})),l(1,i.searchContent).then();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){u(Object(o.a)(Object(o.a)({},i),{},Object(A.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(Object(o.a)(Object(o.a)({},i),{},{content:t.content,note:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(_.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.next=3,r.deleteNote(n);case 3:l().then(),t(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(){return Object(M.jsxs)("div",{className:"d-flex justify-content-center align-items-center auth-box",children:[Object(M.jsx)(V,{}),Object(M.jsxs)("div",{style:{boxShadow:"0 0 5px #0005"},className:"bg-white rounded p-1 d-cont",children:[Object(M.jsx)("h5",{className:"text-center text-primary mt-2",children:"Adoyen Notepad"}),Object(M.jsx)("hr",{}),Object(M.jsxs)("ul",{className:"nav pl-4 nav-tabs",id:"note",role:"tablist",children:[Object(M.jsx)("li",{className:"nav-item",role:"presentation",children:Object(M.jsx)("a",{className:"nav-link active",id:"add-note","data-toggle":"tab",href:"#home",role:"tab","aria-controls":"home","aria-selected":"true",children:Object(M.jsx)("i",{className:"fa fa-plus text-secondary"})})}),Object(M.jsx)("li",{className:"nav-item",role:"presentation",children:Object(M.jsx)("a",{className:"nav-link",id:"search-note","data-toggle":"tab",href:"#profile",role:"tab","aria-controls":"profile","aria-selected":"false",children:Object(M.jsx)("i",{className:"fa fa-search text-secondary"})})})]}),Object(M.jsxs)("div",{className:"tab-content",id:"noteContent",children:[Object(M.jsx)("div",{className:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"add-note",children:Object(M.jsxs)("form",{onSubmit:function(e){return j(e)},className:"bg-white p-4 pt-1 pb-1",children:[Object(M.jsxs)("label",{htmlFor:"content",children:[i.note?"Update":"New"," note"]}),Object(M.jsxs)("div",{className:"d-flex",children:[Object(M.jsx)("div",{className:"",children:Object(M.jsx)("input",{type:"text",name:"content",value:i.content,className:"form-control w-100 flat-right-input",id:"content","aria-describedby":"content",onChange:function(e){return h(e)},required:!0})}),Object(M.jsx)("div",{className:"nem",children:Object(M.jsx)("button",{type:"submit",className:"w-100 btn flat-left-button btn-primary text-white",children:"Save"})})]})]})}),Object(M.jsx)("div",{className:"tab-pane fade",id:"profile",role:"tabpanel","aria-labelledby":"search-note",children:Object(M.jsxs)("form",{onSubmit:function(e){return f(e)},className:"bg-white p-4 pb-1",children:[Object(M.jsx)("label",{htmlFor:"content",children:"Enter search terms"}),Object(M.jsxs)("div",{className:"d-flex",children:[Object(M.jsx)("div",{className:"",children:Object(M.jsx)("input",{type:"text",name:"searchContent",value:i.searchContent,className:"form-control input-sm w-100 flat-right-input",id:"content","aria-describedby":"content",onChange:function(e){return h(e)}})}),Object(M.jsx)("div",{className:"nem",children:Object(M.jsx)("button",{type:"submit",className:"w-100 btn flat-left-button btn-primary text-white",children:Object(M.jsx)("i",{className:"fa fa-search text-white"})})})]})]})})]}),Object(M.jsxs)("div",{className:"pl-4 pr-4 note-parent-container ",children:[Object(M.jsxs)("h6",{children:["Note","".concat(i.data&&i.data.notes?"s":""),":"]}),i.data&&i.data.notes&&i.data.notes.map((function(e,t){return Object(M.jsx)("div",{className:"note-container",children:Object(M.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(M.jsx)("div",{className:"note-number",children:++t}),Object(M.jsx)("div",{className:"note-content w-100 pl-1 text-left",children:e.content}),Object(M.jsxs)("div",{className:"note-trash justify-self-right d-flex",children:[Object(M.jsx)("div",{onClick:function(){return p(e)},children:Object(M.jsx)("i",{className:"fa fa-edit d-inline-block mr-1"})}),Object(M.jsx)("div",{children:Object(M.jsx)("i",{onClick:function(){return O(e)},className:"fa fa-trash text-danger d-inline-block"})})]})]})},e.id)}))]}),Object(M.jsxs)("div",{className:"pl-4 pr-4 w-100",children:[Object(M.jsx)("div",{className:"mb-2",children:"Page ".concat(i.currentPage," of ").concat(i.lastPage)}),Object(M.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(M.jsx)("div",{children:Object(M.jsx)("button",{onClick:d,className:"btn btn-primary btn-sm",children:"Previous"})}),Object(M.jsx)("div",{children:Object(M.jsx)("button",{onClick:b,className:"btn btn-primary btn-sm",children:"Next"})})]})]})]})]})}()}));function W(){return Object(M.jsx)(P.a,{children:Object(M.jsxs)(D.d,{children:[Object(M.jsx)(D.b,{exact:!0,path:"/login",children:Object(M.jsx)(K,{})}),Object(M.jsx)(D.b,{exact:!0,path:"/dashboard",children:Object(M.jsx)(Q,{})}),Object(M.jsx)(D.b,{path:"/",children:Object(M.jsx)(K,{})})]})})}var X=function(){return Object(M.jsx)(C.a,{store:S,children:Object(M.jsx)(W,{})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(X,{})}),document.getElementById("root")),Y()}},[[75,1,2]]]);
//# sourceMappingURL=main.216bdede.chunk.js.map